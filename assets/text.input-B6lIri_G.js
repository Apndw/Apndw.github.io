import{J as se,K as le,N as oe,d as ne,p as Y,C as ae,O as ie,o as ue,i as N,j as I,l as z,P as de,Q,h as f,R as E,T as V,U as ce,V as fe,m as he,k as q,W as me,f as O,F as ge,g as be,n as ve}from"./index-q5C9yns_.js";const F="solid-web-id",Se="HPM-TELU",L=["MJPURLCHAF","QWERTYUIOP","ASDFGHJKLP","ZXCVBNMEWQ","KXVYBGTNED","POIUYTREWQ","LKJHGFDSAM","MNBVCXZPOI","POXNQWZTWR","LJHGFDSAXZ","YOIUYTREWQ","VCWERTYUIO"],ze={required:o=>o.length===0?{isMissing:"di butuhkan"}:null,email:o=>!o.includes("@")||!o.includes(".")?{isInvalid:"email tidak valid"}:null,minLength:o=>o.length<0?{isMinLength:"harus lebih dari 8 karakter"}:null,maxLength:o=>o.length>255?{isMaxLength:"harus kurang dari 255 karakter"}:null,minPassword:o=>o.length<8?{isMinPassword:"harus lebih dari 7 karakter"}:null,minLengthNumber:o=>parseInt(o,10)<0?{isMinLengthNumber:"harus lebih besar dari nilai 0"}:null,maxLengthNumber:o=>parseInt(o,10)>99999999?{isMaxToefl:"harus lebih kecil dari nilai 100000000"}:null,isNumber:o=>isNaN(Number(o))?{isNumber:"must be a number"}:null,range:(o,e,r)=>{const s=Number(o);return s<e||s>r?{isRange:`must be between ${e} and ${r}`}:null}},H=()=>{const o=Array.from({length:10},()=>Math.floor(Math.random()*10)).join("");return Number(o)},J=()=>se(F),X=o=>{const e=new Date,r=e.getMonth(),s=e.toISOString().slice(2,10).split("-"),t=`${[...s[1]].reverse().join("")}${s[2]}${[...s[0]].reverse().join("")}`;let g="";for(let b=0;b<o.toString().length;b++){if(r>=L.length){g+=L[r-Math.floor(Math.random()*3)+1][o.toString()[b]];continue}g+=L[r][o.toString()[b]]}return`${Se}-${g}-${t}-${o}`},ye=()=>{const o=J();if(!o||o==null||o==null)return!1;const e=document.querySelector('input[name="csrf_token"]')?.getAttribute("value");return!e||e==null||e==null?!1:o===e},Z=o=>{const e=X(o);le(F,e)},ke=()=>{oe(F)},De=()=>{const o=H();return Z(o),o},P={generateIds:H,generateToken:X,getToken:J,validateToken:ye,setToken:Z,removeToken:ke,regenerateToken:De};var Me=z("<div><input type=hidden name=csrf_token>");function Fe(o){const e=ne(),[r,s]=Y(0);return ae(()=>{r()===0&&s(P.generateIds()),P.setToken(r())}),ie(()=>{P.removeToken()}),ue(()=>{o.regenerate&&e("/419",{replace:!0,state:{hasPermission:!0}})}),(()=>{var t=Me(),g=t.firstChild;return N(t,()=>o.children,g),I(()=>g.value=P.generateToken(r())),t})()}var Re=function o(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,t,g;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(t=s;t--!==0;)if(!o(e[t],r[t]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(t of e.entries())if(!r.has(t[0]))return!1;for(t of e.entries())if(!o(t[1],r.get(t[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(t of e.entries())if(!r.has(t[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(s=e.length,s!=r.length)return!1;for(t=s;t--!==0;)if(e[t]!==r[t])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(g=Object.keys(e),s=g.length,s!==Object.keys(r).length)return!1;for(t=s;t--!==0;)if(!Object.prototype.hasOwnProperty.call(r,g[t]))return!1;for(t=s;t--!==0;){var v=g[t];if(!o(e[v],r[v]))return!1}return!0}return e!==e&&r!==r};const Te=de(Re),x="@@AbstractControlInterface_solidjs";function p(o){return typeof o=="object"&&o?.[x]===!0}const ee="@@AbstractControlContainerInterface_solidjs";function C(o){return p(o)&&o[ee]}function S(o,e){return Te(o,e)}function B(o,e){return Object.defineProperties(o,Object.getOwnPropertyDescriptors(e))}const j="CONTROL_DEFAULT_SOURCE";function re(){const[o,e]=Y(null);return[r=>o()||r,()=>e(!1)]}function Ee(o){return!o||Array.isArray(o)&&o.length===0?null:Array.isArray(o)?e=>o.reduce((r,s)=>{const t=s(e);return t?{...r,...t}:r},null):o}let Ve=0;function te(o,e,r={}){let s,t,g,v,b,k;return[{id:r.id||Symbol(`AbstractControl-${Ve++}`),data:{...r.data},self:{get isValid(){return this.errors===null&&!this.isPending},isDisabled:!1,isTouched:!1,isDirty:!1,isReadonly:!1,isSubmitted:!1,isRequired:!1,get isPending(){return g?.()??e(!1)},get errors(){return v?.()??e(null)},errorsStore:new Map,pendingStore:new Set,validatorStore:new Map},get isDisabled(){return this.self.isDisabled},get isTouched(){return this.self.isTouched},get isDirty(){return this.self.isDirty},get isReadonly(){return this.self.isReadonly},get isSubmitted(){return this.self.isSubmitted},get isRequired(){return this.self.isRequired},get errors(){return this.self.errors},get isPending(){return this.self.isPending},get isValid(){return this.self.isValid},get status(){return b?.()??e("VALID")},get validator(){return k?.()??e(null)},markDisabled(n){S(this.self.isDisabled,n)||t("self","isDisabled",n)},markReadonly(n){S(this.self.isReadonly,n)||t("self","isReadonly",n)},markRequired(n){S(this.self.isRequired,n)||t("self","isRequired",n)},markDirty(n){S(this.self.isDirty,n)||t("self","isDirty",n)},markTouched(n){S(this.self.isTouched,n)||t("self","isTouched",n)},markSubmitted(n){S(this.self.isSubmitted,n)||t("self","isSubmitted",n)},markPending(n,h){let i;if(typeof n=="boolean"){const u=h?.source||j;if(this.self.pendingStore.has(u)===n)return;i=new Set(this.self.pendingStore),n?i.add(u):i.delete(u)}else{if(this.self.pendingStore===n)return;i=new Set(n)}S(this.self.pendingStore,i)||t(E(u=>{u.self.pendingStore=i}))},setErrors(n,h){const i=h?.source||j,u=this.self.errorsStore;let c;n instanceof Map?c=n:n===null||Object.keys(n).length===0?(c=new Map(u),c.delete(i)):c=new Map(u).set(i,n),!S(this.self.errorsStore,c)&&t(E(y=>{y.self.errorsStore=c}))},patchErrors(n,h){const i=this.self.errorsStore;if(n instanceof Map)t(E(u=>{u.self.errorsStore=new Map([...i,...n])}));else{if(Object.keys(n).length===0)return;const u=h?.source||j;let c=n,y=i.get(u);if(y){y={...y};for(const[T,A]of Object.entries(c))A===null?delete y[T]:y[T]=A;c=y}else{const T=Object.entries(c).filter(([,A])=>A!==null);if(T.length===0)return;c=Object.fromEntries(T)}const R=new Map(i);if(Object.keys(c).length===0?R.delete(u):R.set(u,c),S(this.self.errorsStore,R))return;t(E(T=>{T.self.errorsStore=R}))}},setValidators(n,h){const i=h?.source||j;let u;if(n instanceof Map)u=new Map(n);else{u=new Map(this.self.validatorStore);const c=Ee(n);c?u.set(i,c):u.delete(i)}S(this.self.validatorStore,u)||t(E(c=>{c.self.validatorStore=u}))},setData(n,h){S(this.data[n],h)||t(E(i=>{i.data[n]=h}))}},()=>{[s,t]=o(),g=f(()=>s.self.pendingStore.size>0),v=f(()=>s.self.errorsStore.size===0?null:Array.from(s.self.errorsStore.values()).reduce((n,h)=>({...n,...h}),{})),b=f(()=>s.isDisabled?"DISABLED":s.isPending?"PENDING":s.isValid?"VALID":"INVALID"),k=f(()=>{if(s.self.validatorStore.size===0)return null;const n=Array.from(s.self.validatorStore.values());return h=>{const i=n.reduce((u,c)=>({...u,...c(h)}),{});return Object.keys(i).length===0?null:i}}),ce(fe(()=>s.validator?.(s.rawValue)??null,n=>{if(s.self.errorsStore.get(j)===n)return;const h=new Map(s.self.errorsStore);n?h.set(j,n):h.delete(j),!S(s.self.errorsStore,h)&&t(E(i=>{i.self.errorsStore=h}))}))}]}const Ce="@@FormControlInterface_solidjs";function Ae(o,e={}){let r,s;const[t,g]=re(),[v,b]=te(()=>[r,s],t,e),k=B(v,{[x]:!0,[Ce]:!0,rawValue:o,get value(){return this.rawValue},setValue(D){S(this.value,D)||s(E(M=>{M.rawValue=D}))}});return[r,s]=Q(k),b(),g(),e.disabled&&r.markDisabled(e.disabled),e.touched&&r.markTouched(e.touched),e.dirty&&r.markDirty(e.dirty),e.readonly&&r.markReadonly(e.readonly),e.submitted&&r.markSubmitted(e.submitted),e.required&&r.markRequired(e.required),e.pending&&r.markPending(e.pending),e.validators&&r.setValidators(e.validators),e.pending&&r.markPending(e.pending),e.errors&&r.patchErrors(e.errors),r}function je(o,e,r={}){let s,t;const[g,v]=te(()=>[s,t],e,r);let b,k,D,M,n,h,i,u,c,y,R,T,A,_,U,$,G,W,K;return[B(g,{get size(){return b?.()??e(0)},get isDisabled(){return this.self.isDisabled||this.children.areDisabled},get isTouched(){return this.self.isTouched||this.child.isTouched},get isDirty(){return this.self.isDirty||this.child.isDirty},get isReadonly(){return this.self.isReadonly||this.children.areReadonly},get isSubmitted(){return this.self.isSubmitted||this.children.areSubmitted},get isRequired(){return this.self.isRequired||this.child.isRequired},get isPending(){return this.self.isPending||this.child.isPending},get errors(){return W?.()??e(null)},get isValid(){return this.self.isValid&&this.children.areValid},child:{get isValid(){return k?.()??e(!0)},get isDisabled(){return D?.()??e(!1)},get isReadonly(){return M?.()??e(!1)},get isRequired(){return n?.()??e(!1)},get isPending(){return h?.()??e(!1)},get isTouched(){return i?.()??e(!1)},get isDirty(){return u?.()??e(!1)},get isSubmitted(){return c?.()??e(!1)}},children:{get areValid(){return y?.()??e(!0)},get areDisabled(){return R?.()??e(!1)},get areReadonly(){return T?.()??e(!1)},get areRequired(){return A?.()??e(!1)},get arePending(){return _?.()??e(!1)},get areTouched(){return U?.()??e(!1)},get areDirty(){return $?.()??e(!1)},get areSubmitted(){return G?.()??e(!1)},get errors(){return K?.()??e(null)},markDirty(d,a){V(()=>{Object.values(s.controls).forEach(l=>{l.markDirty(d),!(!a?.deep||!C(l))&&l.children.markDirty(d,a)})})},markDisabled(d,a){V(()=>{Object.values(s.controls).forEach(l=>{l.markDisabled(d),!(!a?.deep||!C(l))&&l.children.markDisabled(d,a)})})},markPending(d,a){V(()=>{Object.values(s.controls).forEach(l=>{l.markPending(d,a),!(!a?.deep||!C(l))&&l.children.markPending(d,a)})})},markReadonly(d,a){V(()=>{Object.values(s.controls).forEach(l=>{l.markReadonly(d),!(!a?.deep||!C(l))&&l.children.markReadonly(d,a)})})},markRequired(d,a){V(()=>{Object.values(s.controls).forEach(l=>{l.markRequired(d),!(!a?.deep||!C(l))&&l.children.markRequired(d,a)})})},markSubmitted(d,a){V(()=>{Object.values(s.controls).forEach(l=>{l.markSubmitted(d),!(!a?.deep||!C(l))&&l.children.markSubmitted(d,a)})})},markTouched(d,a){V(()=>{Object.values(s.controls).forEach(l=>{l.markTouched(d),!(!a?.deep||!C(l))&&l.children.markTouched(d,a)})})}},setControls(d){S(s.controls,d)||t(E(a=>{a.controls=d}))},removeControl(d){if(!p(d)){s.setControl(d,null);return}const a=d;for(const[l,m]of Object.entries(s.controls))if(m===a){s.setControl(l,null);return}},setValue(d){const a=Object.entries(d);if(a.length!==s.size)throw new Error("setValue error: you must provide a value for each control.");V(()=>{for(const[l,m]of a){const w=s.controls[l];if(!w)throw new Error(`Invalid setValue value key "${l}".`);w.setValue(m)}})},patchValue(d){V(()=>{for(const[a,l]of Object.entries(d)){const m=s.controls[a];if(!m)throw new Error(`Invalid patchValue value key "${a}".`);C(m)?m.patchValue(l):m.setValue(l)}})}}),()=>{[s,t]=o(),v();const d=f(()=>Object.values(s.controls)),a=f(()=>d().filter(l=>!l.isDisabled));b=f(()=>d().length),k=f(()=>a().some(l=>l.isValid)),D=f(()=>d().some(l=>l.isDisabled)),M=f(()=>a().some(l=>l.isReadonly)),n=f(()=>a().some(l=>l.isRequired)),h=f(()=>a().some(l=>l.isPending)),i=f(()=>a().some(l=>l.isTouched)),u=f(()=>a().some(l=>l.isDirty)),c=f(()=>a().some(l=>l.isSubmitted)),y=f(()=>a().every(l=>l.isValid)),R=f(()=>{const l=d();return l.length===0?!1:l.every(m=>m.isDisabled)}),T=f(()=>{const l=a();return l.length===0?!1:l.every(m=>m.isReadonly)}),A=f(()=>{const l=a();return l.length===0?!1:l.every(m=>m.isRequired)}),_=f(()=>{const l=a();return l.length===0?!1:l.every(m=>m.isPending)}),U=f(()=>{const l=a();return l.length===0?!1:l.every(m=>m.isTouched)}),$=f(()=>{const l=a();return l.length===0?!1:l.every(m=>m.isDirty)}),G=f(()=>{const l=a();return l.length===0?!1:l.every(m=>m.isSubmitted)}),W=f(()=>!s.self.errors&&!s.children.errors?null:{...s.children.errors,...s.self.errors}),K=f(()=>a().reduce((m,w)=>m===null&&w.errors===null?null:{...m,...w.errors},null))}]}const we="@@FormGroupInterface_solidjs";function xe(o={},e={}){let r,s;const[t,g]=re(),[v,b]=je(()=>[r,s],t,e);let k,D;const M=B(v,{[x]:!0,[ee]:!0,[we]:!0,controls:o,get rawValue(){return k?.()??t({})},get value(){return D?.()??t({})},setControl(i,u){(u===null?!r.controls[i]:S(r.controls[i],u))||s(E(c=>{u===null?delete c.controls[i]:c.controls[i]=u}))}});[r,s]=Q(M),b();const n=f(()=>Object.entries(r.controls)),h=f(()=>n().filter(([,i])=>!i.isDisabled));return k=f(()=>Object.fromEntries(n().map(([i,u])=>[i,u.rawValue]))),D=f(()=>Object.fromEntries(h().map(([i,u])=>[i,u.value]))),g(),e.disabled&&r.markDisabled(e.disabled),e.touched&&r.markTouched(e.touched),e.dirty&&r.markDirty(e.dirty),e.readonly&&r.markReadonly(e.readonly),e.submitted&&r.markSubmitted(e.submitted),e.required&&r.markRequired(e.required),e.pending&&r.markPending(e.pending),e.validators&&r.setValidators(e.validators),e.pending&&r.markPending(e.pending),e.errors&&r.patchErrors(e.errors),r}var Pe=z("<div><input>"),qe=z("<small class=ms-1> ");const Be=o=>{const e=he({control:Ae("")},o);return(()=>{var r=Pe(),s=r.firstChild;return s.addEventListener("blur",()=>e.control.markTouched(!0)),s.$$input=t=>{e.control.setValue(t.currentTarget.value),t.currentTarget.value!==""?e.control.markDirty(!0):e.control.markDirty(!1)},I(t=>{var g=!!e.control.isDirty,v=!!e.control.isValid,b=!e.control.isDirty,k=!e.control.isValid,D=!!e.control.isTouched,M=!!e.control.isRequired,n=!e.control.isTouched,h=e.name,i=e.type||"text",u=e.placeholder||"Text...",c=e.control.isRequired,y=e.disabled,R=e.class;return g!==t.e&&r.classList.toggle("is-dirty",t.e=g),v!==t.t&&r.classList.toggle("is-valid",t.t=v),b!==t.a&&r.classList.toggle("is-clean",t.a=b),k!==t.o&&r.classList.toggle("is-invalid",t.o=k),D!==t.i&&r.classList.toggle("is-touched",t.i=D),M!==t.n&&r.classList.toggle("is-required",t.n=M),n!==t.s&&r.classList.toggle("is-untouched",t.s=n),h!==t.h&&q(s,"name",t.h=h),i!==t.r&&q(s,"type",t.r=i),u!==t.d&&q(s,"placeholder",t.d=u),c!==t.l&&(s.required=t.l=c),y!==t.u&&(s.disabled=t.u=y),R!==t.c&&me(s,t.c=R),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0}),I(()=>s.value=e.control.value),r})()},_e=o=>O(be,{get when(){return o.control.isTouched&&!!o.control.errors},get children(){return O(ge,{get each(){return Object.values(o.control.errors||{})},children:e=>(()=>{var r=qe(),s=r.firstChild;return N(r,()=>o.name,s),N(r,e,null),r})()})}});ve(["input"]);export{P as C,Fe as S,Be as T,Ae as a,_e as b,xe as c,ze as f};
