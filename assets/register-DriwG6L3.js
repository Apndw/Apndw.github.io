import{d as q,p as V,y as B,f as r,i as l,g as A,j as M,l as h,q as p,E as f,r as Z,v as j,z as D,n as F}from"./index-CVlLkqcs.js";import{a as H}from"./navbar-DrdRYc6q.js";import{c as P,a as d,T as g,b as v,S as O,f as a,C as U}from"./text.input-AwozbXYB.js";var K=h('<span class="xl:text-xl font-semibold">Hai, ðŸ‘‹ Siap bergabung dengan kami?'),z=h("<span>Daftar"),G=h('<span class="loading loading-dots loading-lg">'),I=h('<div class="w-full flex flex-col items-stretch gap-3"><label class="input input-bordered min-w-full flex items-center gap-2"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 16 16"fill=currentColor class="w-4 h-4 opacity-70"><path d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"></path><path d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"></path></svg></label><label class="input input-bordered min-w-full flex items-center gap-2"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 16 16"fill=currentColor class="w-4 h-4 opacity-70"><path d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"></path><path d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"></path></svg></label><label class="input input-bordered flex items-center gap-2"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 16 16"fill=currentColor class="w-4 h-4 opacity-70"><path fill-rule=evenodd d="M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z"clip-rule=evenodd></path></svg></label><label class="input input-bordered flex items-center gap-2"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 16 16"fill=currentColor class="w-4 h-4 opacity-70"><path fill-rule=evenodd d="M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z"clip-rule=evenodd></path></svg></label><div class="flex items-center justify-between"></div><button type=submit class="btn btn-block btn-primary"></button><div class="divider text-sm">OR</div><div class="w-full flex justify-center items-center gap-4"><button type=button class="btn btn-block dark:btn-neutral">Masuk</button></div><div class="w-full flex justify-center items-center gap-4 mt-2"><button type=button class="btn btn-block dark:btn-neutral">Home');function Q(){const b=q(),[n,w]=V(!1),e=P({safe_form:d(!1),username:d("",{required:!0,validators:[a.required,a.minLength,a.maxLength]}),email:d("",{required:!0,validators:[a.required,a.email,a.maxLength]}),password:d("",{required:!0,validators:[a.required,a.minLength,a.maxLength]}),password_confirmation:d("",{required:!0,validators:[a.required,a.minLength,a.maxLength]})}),E=()=>{if(e.isSubmitted){p("System","Formulir sudah dikirimkan",f.ERROR);return}if(!e.isValid){p("System","Silahkan isi semua formulir",f.ERROR);return}if(U.validateToken())e.controls.safe_form.setErrors(null);else{e.controls.safe_form.setErrors({invalid:"csrf token tidak valid"});return}if(e.value.password!==e.value.password_confirmation){e.controls.password_confirmation.setErrors({notMatch:"tidak cocok dengan password"});return}e.markSubmitted(!0),w(!0),L()},L=async()=>{await Z.post({url:"public/register",name:"System",data:{username:e.value.username,email:e.value.email,password:e.value.password,password_confirmation:e.value.password_confirmation},server:j.AUTH,success:t=>{p("System",t.data.message,f.SUCCESS),b("/login")},error:()=>{p("System","Terjadi kesalahan dalam melakukan proses pendaftaran",f.ERROR)},finally:()=>{e.markSubmitted(!1),w(!1)}})};return B(t=>{e.isDirty&&!t.defaultPrevented&&!e.controls.safe_form.errors&&(t.preventDefault(),setTimeout(()=>{D.fire({title:"Konfirmasi",icon:"question",showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Tidak",html:`
            <div class="flex justify-center items-center gap-4 mt-4">
              <span>
                Apakah anda yakin ingin meninggalkan halaman ini?
                <br />
                Semua data yang sudah di isi akan hilang!!
              </span>
            </div>
          `}).then(i=>{i.isConfirmed&&t.retry(!0)})},100))}),r(O,{get regenerate(){return!!e.controls.safe_form.errors},get children(){return r(H,{get disabled(){return n()},title:"Daftar",get children(){return[K(),(()=>{var t=I(),i=t.firstChild;i.firstChild;var u=i.nextSibling;u.firstChild;var c=u.nextSibling;c.firstChild;var m=c.nextSibling;m.firstChild;var x=m.nextSibling,o=x.nextSibling,R=o.nextSibling,y=R.nextSibling,S=y.firstChild,T=y.nextSibling,k=T.firstChild;return l(i,r(g,{type:"text",name:"username",get disabled(){return n()},placeholder:"Username",get control(){return e.controls.username},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"}),null),l(t,r(v,{name:"Username",get control(){return e.controls.username}}),u),l(u,r(g,{type:"email",name:"email",get disabled(){return n()},placeholder:"Email",get control(){return e.controls.email},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"}),null),l(t,r(v,{name:"Email",get control(){return e.controls.email}}),c),l(c,r(g,{type:"password",name:"password",get disabled(){return n()},placeholder:"Password",get control(){return e.controls.password},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"}),null),l(t,r(v,{name:"Password",get control(){return e.controls.password}}),m),l(m,r(g,{type:"password",name:"password_confirmation",get disabled(){return n()},placeholder:"Konfirmasi Password",get control(){return e.controls.password_confirmation},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"}),null),l(t,r(v,{name:"Konfirmasi Password",get control(){return e.controls.password_confirmation}}),x),o.$$click=E,l(o,r(A,{get when(){return!n()},get children(){return z()}}),null),l(o,r(A,{get when(){return n()},get children(){return G()}}),null),S.$$click=()=>b("/login"),k.$$click=()=>b("/"),M(s=>{var _=n(),C=n(),$=n();return _!==s.e&&(o.disabled=s.e=_),C!==s.t&&(S.disabled=s.t=C),$!==s.a&&(k.disabled=s.a=$),s},{e:void 0,t:void 0,a:void 0}),t})()]}})}})}F(["click"]);export{Q as default};
