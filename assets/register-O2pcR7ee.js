import{d as M,p as T,y as V,f as r,i as l,g as C,j as Z,l as v,q as p,E as m,r as j,v as B,n as D}from"./index-BIUwYvvO.js";import{a as H,s as P}from"./navbar-Co9d5Ez5.js";import{c as O,a as g,T as f,b,f as a}from"./text.input-BEKveikR.js";var U=v('<span class="xl:text-xl font-semibold">Hai, ðŸ‘‹ Siap bergabung dengan kami?'),F=v("<span>Daftar"),K=v('<span class="loading loading-dots loading-lg">'),G=v('<div class="w-full flex flex-col items-stretch gap-3"><label class="input input-bordered min-w-full flex items-center gap-2"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 16 16"fill=currentColor class="w-4 h-4 opacity-70"><path d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"></path><path d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"></path></svg></label><label class="input input-bordered min-w-full flex items-center gap-2"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 16 16"fill=currentColor class="w-4 h-4 opacity-70"><path d="M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"></path><path d="M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"></path></svg></label><label class="input input-bordered flex items-center gap-2"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 16 16"fill=currentColor class="w-4 h-4 opacity-70"><path fill-rule=evenodd d="M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z"clip-rule=evenodd></path></svg></label><label class="input input-bordered flex items-center gap-2"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 16 16"fill=currentColor class="w-4 h-4 opacity-70"><path fill-rule=evenodd d="M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z"clip-rule=evenodd></path></svg></label><div class="flex items-center justify-between"></div><button type=submit class="btn btn-block btn-primary"></button><div class="divider text-sm">OR</div><div class="w-full flex justify-center items-center gap-4"><button type=button class="btn btn-block dark:btn-neutral">Masuk</button></div><div class="w-full flex justify-center items-center gap-4 mt-2"><button type=button class="btn btn-block dark:btn-neutral">Home');function z(){const h=M(),[n,w]=T(!1),e=O({username:g("",{required:!0,validators:[a.required,a.minLength,a.maxLength]}),email:g("",{required:!0,validators:[a.required,a.email,a.maxLength]}),password:g("",{required:!0,validators:[a.required,a.minLength,a.maxLength]}),password_confirmation:g("",{required:!0,validators:[a.required,a.minLength,a.maxLength]})}),L=()=>{if(e.isSubmitted){p("System","Formulir sudah dikirimkan",m.ERROR);return}if(!e.isValid){p("System","Silahkan isi semua formulir",m.ERROR);return}if(e.value.password!==e.value.password_confirmation){e.controls.password_confirmation.setErrors({notMatch:"tidak cocok dengan password"});return}e.markSubmitted(!0),w(!0),E()},E=async()=>{await j.post({url:"public/register",name:"System",data:{username:e.value.username,email:e.value.email,password:e.value.password,password_confirmation:e.value.password_confirmation},server:B.AUTH,success:t=>{p("System",t.data.message,m.SUCCESS),h("/login")},error:()=>{p("System","Terjadi kesalahan dalam melakukan proses pendaftaran",m.ERROR)},finally:()=>{e.markSubmitted(!1),w(!1)}})};return V(t=>{e.isDirty&&!t.defaultPrevented&&(t.preventDefault(),setTimeout(()=>{P({title:"Apakah Anda yakin?",text:"Anda akan kehilangan data yang telah diisi!",icon:"warning",buttons:["Tidak","Ya"],dangerMode:!0}).then(i=>{i&&t.retry(!0)})},100))}),r(H,{get disabled(){return n()},title:"Daftar",get children(){return[U(),(()=>{var t=G(),i=t.firstChild;i.firstChild;var d=i.nextSibling;d.firstChild;var u=d.nextSibling;u.firstChild;var c=u.nextSibling;c.firstChild;var x=c.nextSibling,o=x.nextSibling,R=o.nextSibling,y=R.nextSibling,k=y.firstChild,q=y.nextSibling,S=q.firstChild;return l(i,r(f,{type:"text",name:"username",get disabled(){return n()},placeholder:"Username",get control(){return e.controls.username},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"}),null),l(t,r(b,{name:"Username",get control(){return e.controls.username}}),d),l(d,r(f,{type:"email",name:"email",get disabled(){return n()},placeholder:"Email",get control(){return e.controls.email},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"}),null),l(t,r(b,{name:"Email",get control(){return e.controls.email}}),u),l(u,r(f,{type:"password",name:"password",get disabled(){return n()},placeholder:"Password",get control(){return e.controls.password},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"}),null),l(t,r(b,{name:"Password",get control(){return e.controls.password}}),c),l(c,r(f,{type:"password",name:"password_confirmation",get disabled(){return n()},placeholder:"Konfirmasi Password",get control(){return e.controls.password_confirmation},class:"grow input outline-none focus:outline-none border-none border-[0px] h-auto pl-1 pr-0"}),null),l(t,r(b,{name:"Konfirmasi Password",get control(){return e.controls.password_confirmation}}),x),o.$$click=L,l(o,r(C,{get when(){return!n()},get children(){return F()}}),null),l(o,r(C,{get when(){return n()},get children(){return K()}}),null),k.$$click=()=>h("/login"),S.$$click=()=>h("/"),Z(s=>{var _=n(),$=n(),A=n();return _!==s.e&&(o.disabled=s.e=_),$!==s.t&&(k.disabled=s.t=$),A!==s.a&&(S.disabled=s.a=A),s},{e:void 0,t:void 0,a:void 0}),t})()]}})}D(["click"]);export{z as default};
